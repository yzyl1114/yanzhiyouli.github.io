<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>倒计时 - GoalCountdown</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/moment.min.js"></script>
    <script src="js/moment-timezone-with-data-10-year-range.min.js"></script>
    <script type="module" src="js/auth.js"></script>
    <!-- 谷歌广告审核代码 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7268374810307592"crossorigin="anonymous"></script>
</head>
<body class="countdown-page">
    <!-- 设置弹窗入口 -->
    <div class="settings-entry">
        <i class="icon-settings">⚙️</i>
    </div>

    <!-- 设置弹窗 -->
    <div class="modal settings-modal" id="settings-modal">
        <div class="modal-content settings-content">
            <div class="modal-header">
                <h2 class="modal-title">选择背景图</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body settings-body">
                <div class="background-options">
                    <img src="images/bg1-thumbnail.jpg" alt="背景1" class="bg-option active" data-bg="bg1">
                    <img src="images/bg2-thumbnail.jpg" alt="背景2" class="bg-option" data-bg="bg2">
                    <img src="images/bg3-thumbnail.jpg" alt="背景3" class="bg-option" data-bg="bg3">
                    <img src="images/bg4-thumbnail.jpg" alt="背景4" class="bg-option" data-bg="bg4">
                    
                    <!-- VIP图片使用span角标 -->
                    <div class="bg-option-container vip">
                        <img src="images/bg5-thumbnail.jpg" alt="背景5" class="bg-option" data-bg="bg5">
                        <span class="vip-badge">VIP</span>
                    </div>
                    <div class="bg-option-container vip">
                        <img src="images/bg6-thumbnail.jpg" alt="背景6" class="bg-option" data-bg="bg6">
                        <span class="vip-badge">VIP</span>
                    </div>
                </div> 
            </div> 
        </div> 
    </div> 

    <!-- 页面主体 -->
    <main class="countdown-main">
        <h1 class="exam-title" id="exam-title">中小学教师资格考试（笔试）</h1>
        <div class="exam-time-container">
            <p class="exam-time" id="exam-time">2025年03月08日09时00分</p>
        </div>
        
        <div class="countdown-display">
            <div class="countdown-block days">
                <div class="countdown-value" id="days">00</div>
                <div class="countdown-label">天</div>
            </div>
            <div class="countdown-block hours">
                <div class="countdown-value" id="hours">00</div>
                <div class="countdown-label">时</div>
            </div>
            <div class="countdown-block minutes">
                <div class="countdown-value" id="minutes">00</div>
                <div class="countdown-label">分</div>
            </div>
            <div class="countdown-block seconds">
                <div class="countdown-value" id="seconds">00</div>
                <div class="countdown-label">秒</div>
            </div>
        </div>

        <div class="countdown-bg" id="countdown-bg"></div>
    </main>

    <!-- 广告位 -->
    <div class="ad-container">
        <div class="ad-content">
            <!-- 广告内容将通过JS动态加载 -->
        </div>
        <button class="ad-close" id="ad-close">✕</button>
    </div>

    <!-- 底部备案信息 -->
    <footer class="footer">
        <div class="beian">
            <a href="https://beian.mps.gov.cn/#/query/webSearch?code=11010502057033" target="_blank" rel="noreferrer">
                <img src="images/beian.png" alt="公安联网备案图标"> 京公网安备11010502057033号
            </a>
            <a href="http://beian.miit.gov.cn/" target="_blank">京ICP备2024094021号</a>
        </div>
    </footer>

    <!-- 禁用右键菜单和快捷键 -->
    <script>
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
                e.preventDefault();
            }
        });
    </script>

    <script type="module" src="js/countdown.min.js"></script>

    <script>
    // 绑定关闭按钮
    document.querySelector('.settings-modal .close-modal').onclick = () => {
        document.getElementById('settings-modal').style.display = 'none';
    };
    // 点背景也能关
    document.getElementById('settings-modal').onclick = e => {
        if (e.target === e.currentTarget) e.currentTarget.style.display = 'none';
    };
    // 页面加载时初始化背景图选中状态
    document.addEventListener('DOMContentLoaded', function() {
    // 设置初始背景图选中状态
    const currentBg = localStorage.getItem('countdownBg') || 'bg1';
    document.querySelectorAll('.bg-option').forEach(option => {
        option.classList.remove('active');
        if (option.dataset.bg === currentBg) {
        option.classList.add('active');
        }
    });
    });
    </script>
</body>
</html>